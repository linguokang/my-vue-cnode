{"version":3,"sources":["webpack:///static/js/app.234e540bef089eaa0e48.js","webpack:///./src/vuex/user.js","webpack:///./src/App.vue?3491","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///src/App.vue","webpack:///./src/router/index.js"],"names":["webpackJsonp","0boI","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_vue","_vue2","_vuex","_vuex2","use","userStore","Store","state","userInfo","getters","getUserInfo","mutations","setUserInfo","actions","_ref","user","commit","BR88","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","esExports","M93x","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_selector_type_script_index_0_App_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_template_compiler_index_id_data_v_ecec40b6_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","a","NHnr","_App","_App2","_router","_router2","_axios","_axios2","_user","_user2","_elementUi","_elementUi2","config","productionTip","prototype","$http","window","sessionStorage","dispatch","JSON","parse","beforeEach","to","from","next","console","log","matched","some","record","meta","requiresAuth","userId","path","query","redirect","fullPath","el","router","store","template","components","App","OWtV","name","YaEn","_vueRouter","_vueRouter2","mode","base","routes","component","resolve","e","then","bind","catch","oe","scrollBehavior","savedPosition","x","y","ga6J","hTss","uk03"],"mappings":"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","file":"static/js/app.234e540bef089eaa0e48.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ \"0boI\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _vue = __webpack_require__(\"8FrH\");\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _vuex = __webpack_require__(\"x6Ga\");\n\nvar _vuex2 = _interopRequireDefault(_vuex);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_vue2.default.use(_vuex2.default);\n\nvar userStore = new _vuex2.default.Store({\n    state: {\n        userInfo: {}\n    },\n    getters: {\n        getUserInfo: function getUserInfo(state) {\n            return state.userInfo;\n        }\n    },\n    mutations: {\n        setUserInfo: function setUserInfo(state, userInfo) {\n            state.userInfo = userInfo;\n        }\n    },\n    actions: {\n        setUserInfo: function setUserInfo(_ref, user) {\n            var commit = _ref.commit;\n\n            commit('setUserInfo', user);\n        }\n    }\n});\n\nexports.default = userStore;\n\n/***/ }),\n\n/***/ \"BR88\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"OWtV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_selector_type_script_index_0_App_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_selector_type_script_index_0_App_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_template_compiler_index_id_data_v_ecec40b6_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"BR88\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"hTss\")\n}\nvar normalizeComponent = __webpack_require__(\"C6ae\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_selector_type_script_index_0_App_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_template_compiler_index_id_data_v_ecec40b6_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_npminstall_vue_loader_13_5_0_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _vue = __webpack_require__(\"8FrH\");\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _App = __webpack_require__(\"M93x\");\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _router = __webpack_require__(\"YaEn\");\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _axios = __webpack_require__(\"s9z8\");\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _user = __webpack_require__(\"0boI\");\n\nvar _user2 = _interopRequireDefault(_user);\n\n__webpack_require__(\"uk03\");\n\nvar _elementUi = __webpack_require__(\"2NHP\");\n\nvar _elementUi2 = _interopRequireDefault(_elementUi);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(\"ga6J\"); // The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n_vue2.default.config.productionTip = false;\n_vue2.default.use(_elementUi2.default);\n_vue2.default.prototype.$http = _axios2.default;\n\n//用户刷新vuex丢失，重新赋值\nif (window.sessionStorage.user) {\n  _user2.default.dispatch('setUserInfo', JSON.parse(window.sessionStorage.user));\n}\n\n_router2.default.beforeEach(function (to, from, next) {\n  console.log(999);\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    // this route requires auth, check if logged in\n    // if not, redirect to login page.\n    //window.window.sessionStorage.user\n    if (!_user2.default.state.userInfo.userId) {\n      console.log(888);\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      });\n    } else {\n      next();\n    }\n  } else {\n    next(); // 确保一定要调用 next()\n  }\n});\n\n/* eslint-disable no-new */\nnew _vue2.default({\n  el: '#app',\n  router: _router2.default,\n  store: _user2.default,\n  template: '<App/>',\n  components: { App: _App2.default }\n});\n\n/***/ }),\n\n/***/ \"OWtV\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n  name: 'app'\n};\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vue = __webpack_require__(\"8FrH\");\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _vueRouter = __webpack_require__(\"ie8r\");\n\nvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//import home from '@/page/home'\n//import topic from '@/page/topic'\n//import user from '@/page/user'\n//import login from '@/page/login'\n//import create from '@/page/create'\n\n_vue2.default.use(_vueRouter2.default);\n\nexports.default = new _vueRouter2.default({\n  mode: 'history',\n  base: '/my-vue-cnode/',\n  routes: [{\n    path: '/',\n    name: 'home',\n    //component: home\n    component: function component(resolve) {\n      __webpack_require__.e/* require.ensure */(0/* duplicate */).then((function () {\n        resolve(__webpack_require__(\"lyB/\"));\n      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/topic/:id',\n    name: 'topic',\n    //component: topic\n    component: function component(resolve) {\n      __webpack_require__.e/* require.ensure */(1).then((function () {\n        resolve(__webpack_require__(\"QZpJ\"));\n      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/user/:name',\n    name: 'user',\n    //component: user\n    component: function component(resolve) {\n      __webpack_require__.e/* require.ensure */(3).then((function () {\n        resolve(__webpack_require__(\"dgbF\"));\n      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/login',\n    name: 'login',\n    //component: login\n    component: function component(resolve) {\n      __webpack_require__.e/* require.ensure */(2).then((function () {\n        resolve(__webpack_require__(\"Ntyz\"));\n      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/create',\n    name: 'create',\n    //component: create,\n    component: function component(resolve) {\n      __webpack_require__.e/* require.ensure */(4).then((function () {\n        resolve(__webpack_require__(\"F+Rq\"));\n      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n    },\n\n    meta: { requiresAuth: true }\n  }, {\n    path: '*',\n    //component: home\n    component: function component(resolve) {\n      __webpack_require__.e/* require.ensure */(0/* duplicate */).then((function () {\n        resolve(__webpack_require__(\"lyB/\"));\n      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n    }\n  }],\n  scrollBehavior: function scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition;\n    } else {\n      return { x: 0, y: 0 };\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"ga6J\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"hTss\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"uk03\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.234e540bef089eaa0e48.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nVue.use(Vuex);\r\n\r\nconst userStore = new Vuex.Store({\r\n    state: {\r\n        userInfo: {}\r\n    },\r\n    getters: {\r\n        getUserInfo(state) {\r\n            return state.userInfo;\r\n        }\r\n    },\r\n    mutations: {\r\n        setUserInfo(state, userInfo) {\r\n            state.userInfo = userInfo;\r\n        }\r\n    },\r\n    actions: {\r\n        setUserInfo({ commit }, user) {\r\n            commit('setUserInfo', user);\r\n        }\r\n    }\r\n});\r\n\r\nexport default userStore;\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/user.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.npminstall/vue-loader/13.5.0/vue-loader/lib/template-compiler?{\"id\":\"data-v-ecec40b6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.npminstall/vue-loader/13.5.0/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = BR88\n// module chunks = 6","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/.npminstall/extract-text-webpack-plugin/3.0.2/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/.npminstall/vue-loader/13.5.0/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ecec40b6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/.npminstall/vue-loader/13.5.0/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/.npminstall/vue-loader/13.5.0/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/.npminstall/vue-loader/13.5.0/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/.npminstall/vue-loader/13.5.0/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ecec40b6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/.npminstall/vue-loader/13.5.0/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 6","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport axios from 'axios'\r\nimport store from './vuex/user';\r\nimport './assets/scss/reset.css'\r\n\r\nimport ElementUI from 'element-ui'\r\nrequire('element-ui/lib/theme-default/index.css')\r\n\r\n\r\nVue.config.productionTip = false\r\nVue.use(ElementUI)\r\nVue.prototype.$http = axios\r\n\r\n//用户刷新vuex丢失，重新赋值\r\nif(window.sessionStorage.user){\r\n  store.dispatch('setUserInfo',JSON.parse(window.sessionStorage.user))\r\n}\r\n\r\n\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  console.log(999)\r\n  if (to.matched.some(record => record.meta.requiresAuth)) {\r\n    // this route requires auth, check if logged in\r\n    // if not, redirect to login page.\r\n    //window.window.sessionStorage.user\r\n    if (!store.state.userInfo.userId) {\r\n      console.log(888)\r\n      next({\r\n        path: '/login',\r\n        query: { redirect: to.fullPath }\r\n      })\r\n    } else {\r\n      next()\r\n    }\r\n  } else {\r\n    next() // 确保一定要调用 next()\r\n  }\r\n})\r\n\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  template: '<App/>',\r\n  components: { App }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\r\n  <div id=\"app\">\r\n\r\n    <router-view/>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'app'\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  background: #e1f0fe;\r\n  overflow: hidden;\r\n  min-height: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n//import home from '@/page/home'\r\n//import topic from '@/page/topic'\r\n//import user from '@/page/user'\r\n//import login from '@/page/login'\r\n//import create from '@/page/create'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  mode: 'history',\r\n  base:'/my-vue-cnode/',\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'home',\r\n      //component: home\r\n      component(resolve) {\r\n        require.ensure(['@/page/home'], () => {\r\n          resolve(require('@/page/home'));\r\n        });\r\n      }\r\n    },\r\n    {\r\n      path: '/topic/:id',\r\n      name: 'topic',\r\n      //component: topic\r\n      component(resolve) {\r\n        require.ensure(['@/page/topic'], () => {\r\n          resolve(require('@/page/topic'));\r\n        });\r\n      }\r\n    },\r\n    {\r\n      path: '/user/:name',\r\n      name: 'user',\r\n      //component: user\r\n      component(resolve) {\r\n        require.ensure(['@/page/user'], () => {\r\n          resolve(require('@/page/user'));\r\n        });\r\n      }\r\n    },\r\n    {\r\n      path: '/login',\r\n      name: 'login',\r\n      //component: login\r\n      component(resolve) {\r\n        require.ensure(['@/page/login'], () => {\r\n          resolve(require('@/page/login'));\r\n        });\r\n      }\r\n    },\r\n    {\r\n      path: '/create',\r\n      name: 'create',\r\n      //component: create,\r\n      component(resolve) {\r\n        require.ensure(['@/page/create'], () => {\r\n          resolve(require('@/page/create'));\r\n        });\r\n      },\r\n      meta: { requiresAuth: true }\r\n    },\r\n    {\r\n      path: '*',\r\n      //component: home\r\n      component(resolve) {\r\n        require.ensure(['@/page/home'], () => {\r\n          resolve(require('@/page/home'));\r\n        });\r\n      }\r\n    }\r\n  ],\r\n  scrollBehavior (to, from, savedPosition) {\r\n    if (savedPosition) {\r\n      return savedPosition\r\n    } else {\r\n      return { x: 0, y: 0 }\r\n    }\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js"],"sourceRoot":""}