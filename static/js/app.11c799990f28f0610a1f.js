webpackJsonp([1],{0:function(t,e){},"065q":function(t,e,n){var r=n("bbn9"),o=n("ghDJ"),i=n("VS+j"),s=Object.defineProperty;e.f=n("PwyU")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"0Hhp":function(t,e,n){var r=n("kI7W"),o=n("IF0G"),i=n("8/No"),s=n("teGI"),a=function(t,e,n){var u,c,l,f=t&a.F,d=t&a.G,p=t&a.S,v=t&a.P,m=t&a.B,h=t&a.W,_=d?o:o[e]||(o[e]={}),g=_.prototype,y=d?r:p?r[e]:(r[e]||{}).prototype;d&&(n=e);for(u in n)(c=!f&&y&&void 0!==y[u])&&u in _||(l=c?y[u]:n[u],_[u]=d&&"function"!=typeof y[u]?n[u]:m&&c?i(l,r):h&&y[u]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):v&&"function"==typeof l?i(Function.call,l):l,v&&((_.virtual||(_.virtual={}))[u]=l,t&a.R&&g&&!g[u]&&s(g,u,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},"0boI":function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("JsPK"),i=r(o),s=n("x6Ga"),a=r(s);i.default.use(a.default);var u=new a.default.Store({state:{userInfo:{}},getters:{getUserInfo:function(t){return t.userInfo}},mutations:{setUserInfo:function(t,e){t.userInfo=e}},actions:{setUserInfo:function(t,e){(0,t.commit)("setUserInfo",e)}}});e.default=u},"134I":function(t,e,n){var r=n("dzmD"),o=n("kI7W").document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},"1hMJ":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nv-head"),t._v(" "),n("div",{staticClass:"topic"},[n("h1",{staticClass:"title"},[t._v(t._s(t.topic.title))]),t._v(" "),n("div",{staticClass:"tap"},[n("span",{staticClass:"time"},[t._v("发布于 "+t._s(t._f("getTimeAgo")(t.topic.create_at))+" ")]),t._v(" "),n("span",{staticClass:"author"},[t._v("作者 "+t._s(t.topic.author.loginname))]),t._v(" "),n("span",{staticClass:"visit"},[t._v(t._s(t.topic.visit_count)+" 次浏览")])]),t._v(" "),n("section",{staticClass:"markdown-body topic-content",domProps:{innerHTML:t._s(t.topic.content)}}),t._v(" "),n("div",{staticClass:"replies"},[n("div",{staticClass:"replies_count"},[t._v(t._s(t.topic.replies.length)+" 条回复")]),t._v(" "),n("ul",{staticClass:"replies_list"},t._l(t.topic.replies,function(e){return n("li",[n("div",{staticClass:"replies_box"},[n("div",{staticClass:"replies_left"},[n("div",{staticClass:"replie_author"},[n("router-link",{attrs:{to:{name:"user",params:{name:e.author.loginname}}}},[n("img",{staticClass:"avatar",attrs:{src:e.author.avatar_url}})]),t._v(" "),n("span",{staticClass:"name"},[t._v(t._s(e.author.loginname))])],1),t._v(" "),n("div",{staticClass:"replie_content",domProps:{innerHTML:t._s(e.content)}})]),t._v(" "),n("div",{staticClass:"replies_right"},[t.isUps(e.ups)?t._e():n("i",{staticClass:"el-icon-star-off",on:{click:function(n){t.like(e.id,e.ups)}}}),t._v(" "),t.isUps(e.ups)?n("i",{staticClass:"el-icon-star-on",on:{click:function(n){t.like(e.id,e.ups)}}}):t._e(),t._v("\n              "+t._s(e.ups.length)+"\n              "),n("i",{staticClass:"el-icon-edit",on:{click:function(n){t.addReply(e.id)}}})])]),t._v(" "),n("div",{staticClass:"replies_comment"},[t.userInfo.userId&&t.curReplyId===e.id?n("div",{staticClass:"markdown"},[n("div",{staticClass:"title"},[t._v("添加回复")]),t._v(" "),n("markdown-editor",{ref:"markdownEditor",refInFor:!0,model:{value:t.content[e.id],callback:function(n){t.$set(t.content,e.id,n)},expression:"content[item.id]"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(n){t.addReplies(e.id)}}},[t._v("回复")])],1):t._e()])])}))]),t._v(" "),n("div",{staticClass:"markdown"},[n("div",{staticClass:"title"},[t._v("添加回复")]),t._v(" "),n("markdown-editor",{ref:"markdownEditor",model:{value:t.content[t.topic.id],callback:function(e){t.$set(t.content,t.topic.id,e)},expression:"content[topic.id]"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addReplies(t.topic.id)}}},[t._v("回复")])],1)])],1)},o=[],i={render:r,staticRenderFns:o};e.a=i},"2hQH":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("AGn3"),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=n("x6Ga");e.default={data:function(){return{activeIndex:"1",activeIndex2:"1"}},computed:(0,o.default)({},(0,i.mapGetters)({userInfo:"getUserInfo"})),methods:{flushCom:function(){this.$router.go(0)},goLogin:function(){this.$router.push({name:"login",query:{redirect:encodeURIComponent(this.$route.path)}})},goUser:function(){this.$router.push({name:"user",params:{name:this.userInfo.loginname}})}}}},"2kzG":function(t,e,n){var r=n("3kx5"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},"3L0B":function(t,e,n){var r=n("qf5X"),o=n("hTV7");t.exports=Object.keys||function(t){return r(t,o)}},"3kx5":function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"4q8Y":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"markdown-editor"},[n("textarea")])}],i={render:r,staticRenderFns:o};e.a=i},"7NuB":function(t,e){},"8/No":function(t,e,n){var r=n("wmH6");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},"9dZ1":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-menu",{staticClass:"el-menu-demo",attrs:{theme:"dark","default-active":t.activeIndex,mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"1"},on:{click:t.flushCom}},[n("router-link",{attrs:{to:{path:"/"}}},[t._v("首页")])],1),t._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{attrs:{slot:"title"},slot:"title"},[t._v("分类")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-1"},on:{click:t.flushCom}},[n("router-link",{attrs:{to:{path:"/",query:{tab:"good"}}}},[t._v("精华")])],1),t._v(" "),n("el-menu-item",{attrs:{index:"2-2"},on:{click:t.flushCom}},[n("router-link",{attrs:{to:{path:"/",query:{tab:"share"}}}},[t._v(" 分享")])],1),t._v(" "),n("el-menu-item",{attrs:{index:"2-3"},on:{click:t.flushCom}},[n("router-link",{attrs:{to:{path:"/",query:{tab:"ask"}}}},[t._v("问答")])],1)],2),t._v(" "),n("el-menu-item",{attrs:{index:"3"}},[t._v("消息")]),t._v(" "),n("el-menu-item",{attrs:{index:"4"}},[t._v("关于")]),t._v(" "),n("div",{staticClass:"fr h100"},[t.userInfo.loginname?t._e():n("el-button",{attrs:{type:"primary",plain:""},on:{click:t.goLogin}},[t._v("登录")]),t._v(" "),t.userInfo.loginname?n("div",{staticClass:"has_login",on:{click:t.goUser}},[n("img",{attrs:{src:t.userInfo.avatar_url}}),t._v(" "),n("div",[t._v(t._s(t.userInfo.loginname))])]):t._e(),t._v(" "),n("el-button",{attrs:{type:"success"}},[n("router-link",{attrs:{to:{path:"create"}}},[t._v("发布话题")])],1)],1)],1)],1)},o=[],i={render:r,staticRenderFns:o};e.a=i},"9thX":function(t,e,n){"use strict";var r=n("J/AK"),o=n.n(r),i=n("40X7"),s=n.n(i);e.a={name:"markdown-editor",props:{value:String,previewClass:String,autoinit:{type:Boolean,default:function(){return!0}},highlight:{type:Boolean,default:function(){return!1}},sanitize:{type:Boolean,default:function(){return!1}},configs:{type:Object,default:function(){return{}}}},mounted:function(){this.autoinit&&this.initialize()},activated:function(){var t=this.simplemde;if(t){(t.isSideBySideActive()||t.isPreviewActive())&&t.toggleFullScreen()}},methods:{initialize:function(){var t={element:this.$el.firstElementChild,initialValue:this.value,renderingConfig:{}};Object.assign(t,this.configs),this.highlight&&(t.renderingConfig.codeSyntaxHighlighting=!0),s.a.setOptions({sanitize:this.sanitize}),this.simplemde=new o.a(t);var e=this.previewClass||"";this.addPreviewClass(e),this.bindingEvents()},bindingEvents:function(){var t=this;this.simplemde.codemirror.on("change",function(){t.$emit("input",t.simplemde.value())})},addPreviewClass:function(t){var e=this.simplemde.codemirror.getWrapperElement(),n=document.createElement("div");e.nextSibling.className+=" "+t,n.className="editor-preview "+t,e.appendChild(n)}},destroyed:function(){this.simplemde=null},watch:{value:function(t){t!==this.simplemde.value()&&this.simplemde.value(t)}}}},AGn3:function(t,e,n){"use strict";e.__esModule=!0;var r=n("Bx2q"),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},AfUM:function(t,e){},Bq2o:function(t,e){},BvTZ:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("YDou"),i=r(o),s=n("Cz8s"),a=r(s),u=n("n95b"),c=r(u),l=n("YaEn");r(l);e.default={data:function(){return{user:{}}},mounted:function(){this.fetchDate()},methods:{fetchDate:function(){var t=this;this.useranme=this.$route.params.name||"",this.$http.get(i.default.target+"/user/"+this.useranme).then(function(e){t.user=e.data.data,console.log(t.user)},function(t){})}},watch:{$route:"fetchDate"},filters:{getTimeAgo:function(t){return c.default.getTimeAgo(t)}},components:{nvHead:a.default}}},Bx2q:function(t,e,n){t.exports={default:n("y9PQ"),__esModule:!0}},Cz8s:function(t,e,n){"use strict";function r(t){n("mdaU")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("2hQH"),i=n.n(o),s=n("9dZ1"),a=n("vwQz"),u=r,c=a(i.a,s.a,!1,u,null,null);e.default=c.exports},EGHx:function(t,e,n){var r=n("QG+F"),o=n("2kzG"),i=n("Hmfc");t.exports=function(t){return function(e,n,s){var a,u=r(e),c=o(u.length),l=i(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},EgkC:function(t,e){},"F+Rq":function(t,e,n){"use strict";function r(t){n("7NuB")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("KoZz"),i=n.n(o),s=n("ciu5"),a=n("vwQz"),u=r,c=a(i.a,s.a,!1,u,"data-v-6dfe14cd",null);e.default=c.exports},Hmfc:function(t,e,n){var r=n("3kx5"),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},HzzB:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},I77S:function(t,e,n){var r=n("kuws");t.exports=function(t){return Object(r(t))}},IF0G:function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},IlgB:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},JkT0:function(t,e,n){var r=n("HzzB");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},JtLI:function(t,e){},KENX:function(t,e,n){var r=n("IF0G"),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},KoZz:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("AGn3"),i=r(o),s=n("YDou"),a=r(s),u=n("Cz8s"),c=r(u),l=n("n95b"),f=(r(l),n("x6Ga"));e.default={data:function(){return{AccessToken:"",ruleForm:{title:"",classify:"",desc:""},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"},{min:5,max:20,message:"长度在 5 到 20 个字符",trigger:"blur"}],classify:[{required:!0,message:"请选择发布板块",trigger:"change"}],desc:[{required:!0,message:"请填写内容",trigger:"blur"}]}}},computed:(0,i.default)({},(0,f.mapGetters)({userInfo:"getUserInfo"})),methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;alert("submit!"),e.postDate()})},postDate:function(){var t=this;this.$http.post(a.default.target+"/topics",{accesstoken:this.userInfo.token,title:this.ruleForm.title,tab:this.ruleForm.classify,content:this.ruleForm.desc}).then(function(e){console.log(e),e.success?t.$router.push({name:"/"}):alert(e.error_msg)},function(t){return console.log(t),!1})}},components:{nvHead:c.default}}},LAmr:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},LmVV:function(t,e){},M93x:function(t,e,n){"use strict";function r(t){n("oUU+")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("z8cP"),i=n.n(o),s=n("on/f"),a=n("vwQz"),u=r,c=a(i.a,s.a,!1,u,null,null);e.default=c.exports},NHnr:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n("JsPK"),i=r(o),s=n("M93x"),a=r(s),u=n("YaEn"),c=r(u),l=n("7WCy"),f=r(l),d=n("0boI"),p=r(d);n("uk03");var v=n("pKZd"),m=r(v);n("EgkC"),i.default.config.productionTip=!1,i.default.use(m.default),i.default.prototype.$http=f.default,window.sessionStorage.user&&p.default.dispatch("setUserInfo",JSON.parse(window.sessionStorage.user)),c.default.beforeEach(function(t,e,n){console.log(999),t.matched.some(function(t){return t.meta.requiresAuth})?p.default.state.userInfo.userId?n():(console.log(888),n({path:"/login",query:{redirect:t.fullPath}})):n()}),new i.default({el:"#app",router:c.default,store:p.default,template:"<App/>",components:{App:a.default}})},Ntyz:function(t,e,n){"use strict";function r(t){n("AfUM")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("PAB/"),i=n.n(o),s=n("mThd"),a=n("vwQz"),u=r,c=a(i.a,s.a,!1,u,"data-v-2f04db28",null);e.default=c.exports},O4di:function(t,e,n){var r=n("0Hhp");r(r.S+r.F,"Object",{assign:n("eIgW")})},"PAB/":function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("hoiv"),i=r(o),s=n("YDou"),a=r(s),u=n("Cz8s"),c=r(u),l=n("n95b");r(l);e.default={data:function(){return{msg:"hello vue",form:{AccessToken:"323c434b-d315-4026-9a83-0e342ec31df6"},user:""}},methods:{onSubmit:function(){console.log("submit!"),this.postDate()},postDate:function(){var t=this;this.$http.post(a.default.target+"/accesstoken",{accesstoken:this.form.AccessToken}).then(function(e){t.user=e.data;var n={loginname:t.user.loginname,avatar_url:t.user.avatar_url,userId:t.user.id,token:t.form.AccessToken};window.window.sessionStorage.user=(0,i.default)(n),t.$store.dispatch("setUserInfo",n);var r=decodeURIComponent(t.$route.query.redirect||"/");t.$router.push({path:r})},function(t){})}},components:{nvHead:c.default}}},PwyU:function(t,e,n){t.exports=!n("LAmr")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"QG+F":function(t,e,n){var r=n("JkT0"),o=n("kuws");t.exports=function(t){return r(o(t))}},QZpJ:function(t,e,n){"use strict";function r(t){n("Yooc")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("VfNr"),i=n.n(o),s=n("1hMJ"),a=n("vwQz"),u=r,c=a(i.a,s.a,!1,u,null,null);e.default=c.exports},R78e:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("hoiv"),i=r(o),s=n("YDou"),a=r(s),u=n("Cz8s"),c=r(u),l=n("n95b"),f=r(l),d=n("YaEn"),p=r(d);e.default={data:function(){return{tab:"all",page:1,topics:[]}},mounted:function(){window.window.sessionStorage.tab===this.tab?(console.log("获取缓存数据"),this.topics=JSON.parse(window.window.sessionStorage.topics)):(console.log("获取服务端数据"),this.getTopics()),this.initpage()},beforeRouteLeave:function(t,e,n){"topic"===t.name&&(console.log("跳去topic页面"),window.window.sessionStorage.topics=(0,i.default)(this.topics),window.window.sessionStorage.tab=e.query.tab||"all"),n()},beforeRouteEnter:function(t,e,n){"topic"!==e.name&&window.window.sessionStorage.tab&&(window.window.sessionStorage.removeItem("topics"),window.window.sessionStorage.removeItem("searchKey"),window.window.sessionStorage.removeItem("tab")),"topic"==e.name&&console.log("来自topic页面"),n()},methods:{getTopics:function(){var t=this;this.tab=this.$route.query.tab||"all",this.$http.get(a.default.target+"/topics?tab="+this.tab+"&page="+this.page).then(function(e){t.topics=e.data.data},function(t){})},initpage:function(){this.page=Number(this.$route.query.page||1)},getTabInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=arguments[3];return f.default.getTabInfo(t,e,n,r)},handleCurrentChange:function(t){console.log("当前页: "+t),p.default.push({path:"/",query:{tab:this.tab,page:t}})},flushCom:function(){this.$router.go(0)}},filters:{getTimeAgo:function(t){return f.default.getTimeAgo(t)}},components:{nvHead:c.default}}},"T9/k":function(t,e,n){"use strict";function r(t){n("LmVV")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("9thX"),i=n("4q8Y"),s=n("vwQz"),a=r,u=s(o.a,i.a,!1,a,null,null);e.default=u.exports},TfH8:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nv-head"),t._v(" "),n("section",{attrs:{id:"page"}},[n("ul",{staticClass:"posts-list"},t._l(t.topics,function(e){return n("li",[n("div",{staticClass:"left"},[n("router-link",{attrs:{to:{name:"user",params:{name:e.author.loginname}}}},[n("img",{staticClass:"avatar",attrs:{src:e.author.avatar_url}})]),t._v(" "),n("div",{staticClass:"status"},[t._v(t._s(e.reply_count+"/"+e.visit_count))]),t._v(" "),n("el-button",{attrs:{type:t.getTabInfo(e.tab,e.good,e.top,!0)}},[t._v("\n              "+t._s(t.getTabInfo(e.tab,e.good,e.top,!1))+"\n            ")]),t._v(" "),n("router-link",{attrs:{to:{name:"topic",params:{id:e.id}}}},[n("div",{staticClass:"title"},[t._v(t._s(e.title))])])],1),t._v(" "),n("div",{staticClass:"right"},[n("div",[t._v(t._s(t._f("getTimeAgo")(e.last_reply_at)))])])])}))]),t._v(" "),n("div",{staticClass:"pagination",on:{click:t.flushCom}},[n("el-pagination",{attrs:{layout:"prev, pager, next",total:999,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"current-change":t.handleCurrentChange}})],1)],1)},o=[],i={render:r,staticRenderFns:o};e.a=i},"VS+j":function(t,e,n){var r=n("dzmD");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},VfNr:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("AGn3"),i=r(o),s=n("Cz8s"),a=r(s),u=n("YDou"),c=r(u),l=n("n95b"),f=r(l),d=n("YaEn"),p=(r(d),n("x6Ga")),v=n("T9/k"),m=r(v);n("JtLI"),e.default={data:function(){return{topic:{},content:{},curReplyId:""}},mounted:function(){this.fetchDate(),this.initArray()},computed:(0,i.default)({},(0,p.mapGetters)({userInfo:"getUserInfo"})),methods:{addReply:function(t){this.curReplyId==t?this.curReplyId="":this.curReplyId=t,this.userInfo.userId||this.$router.push({name:"login",params:{redirect:encodeURIComponent(this.$route.path)}})},addReplies:function(t){var e=this;this.$http.post(c.default.target+"/topic/"+this.topic.id+"/replies",{accesstoken:this.userInfo.token,content:this.content[t],reply_id:t}).then(function(n){console.log(n.data),n.data.success&&e.topic.replies.push({id:n.data.reply_id,author:{loginname:e.userInfo.loginname,avatar_url:e.userInfo.avatar_url},content:e.content[t],ups:[]}),e.content=""},function(t){console.log(t)})},isUps:function(t){return t.contains(this.userInfo.userId)},fetchDate:function(){var t=this;this.topicId=this.$route.params.id,this.$http.get(c.default.target+"/topic/"+this.topicId).then(function(e){t.topic=e.data.data,console.log(t.topics)},function(t){})},like:function(t,e){var n=this;this.userInfo.userId?this.$http.post(c.default.target+"/reply/"+t+"/ups",{accesstoken:this.userInfo.token}).then(function(t){"up"==t.data.action?e.push(n.userInfo.userId):e.remove(n.userInfo.userId)},function(t){alert(t.data.error_msg)}):this.$router.push({name:"login",params:{redirect:encodeURIComponent(this.$route.path)}})},initArray:function(){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},Array.prototype.contains=function(t){for(var e=this.length;e--;)if(this[e]===t)return!0;return!1}}},filters:{getTimeAgo:function(t){return f.default.getTimeAgo(t)}},components:{nvHead:a.default,markdownEditor:m.default}}},"W/x9":function(t,e,n){var r=n("kI7W"),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},YDou:function(t,e,n){"use strict";t.exports={target:"https://cnodejs.org/api/v1",base:"/vue-cnode/",publicPath:"/vue-cnode/static/",title:"vue-cnode 中国最专业的 Node.js 开源技术社区"}},YaEn:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("JsPK"),i=r(o),s=n("ie8r"),a=r(s),u=n("lyB/"),c=r(u),l=n("QZpJ"),f=r(l),d=n("dgbF"),p=r(d),v=n("Ntyz"),m=r(v),h=n("F+Rq"),_=r(h);i.default.use(a.default),e.default=new a.default({mode:"history",routes:[{path:"/",name:"home",component:c.default},{path:"/topic/:id",name:"topic",component:f.default},{path:"/user/:name",name:"user",component:p.default},{path:"/login",name:"login",component:m.default},{path:"/create",name:"create",component:_.default,meta:{requiresAuth:!0}}],scrollBehavior:function(t,e,n){return n||{x:0,y:0}}})},Yooc:function(t,e){},bbn9:function(t,e,n){var r=n("dzmD");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ciu5:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nv-head"),t._v(" "),n("div",{staticClass:"w1200"},[n("div",{staticClass:"p20"},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"50px"}},[n("el-form-item",{attrs:{label:"标题",prop:"title"}},[n("el-input",{model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"分类",prop:"classify"}},[n("el-select",{attrs:{placeholder:"请选择发布板块"},model:{value:t.ruleForm.classify,callback:function(e){t.$set(t.ruleForm,"classify",e)},expression:"ruleForm.classify"}},[n("el-option",{attrs:{label:"问答",value:"ask"}}),t._v(" "),n("el-option",{attrs:{label:"分享",value:"share"}}),t._v(" "),n("el-option",{attrs:{label:"工作",value:"job"}}),t._v(" "),n("el-option",{attrs:{label:"测试",value:"dev"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"内容",prop:"desc"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("立即发布")])],1)],1)],1)])],1)},o=[],i={render:r,staticRenderFns:o};e.a=i},dgbF:function(t,e,n){"use strict";function r(t){n("Bq2o")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("BvTZ"),i=n.n(o),s=n("pqcO"),a=n("vwQz"),u=r,c=a(i.a,s.a,!1,u,"data-v-16404b48",null);e.default=c.exports},dzmD:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},eIgW:function(t,e,n){"use strict";var r=n("3L0B"),o=n("isF4"),i=n("gyMS"),s=n("I77S"),a=n("JkT0"),u=Object.assign;t.exports=!u||n("LAmr")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=s(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var d,p=a(arguments[c++]),v=l?r(p).concat(l(p)):r(p),m=v.length,h=0;m>h;)f.call(p,d=v[h++])&&(n[d]=p[d]);return n}:u},ghDJ:function(t,e,n){t.exports=!n("PwyU")&&!n("LAmr")(function(){return 7!=Object.defineProperty(n("134I")("div"),"a",{get:function(){return 7}}).a})},gyMS:function(t,e){e.f={}.propertyIsEnumerable},hTV7:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},hoiv:function(t,e,n){t.exports={default:n("KENX"),__esModule:!0}},isF4:function(t,e){e.f=Object.getOwnPropertySymbols},"j+JN":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},kI7W:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},kuws:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},lU5T:function(t,e,n){var r=n("W/x9")("keys"),o=n("rTof");t.exports=function(t){return r[t]||(r[t]=o(t))}},"lyB/":function(t,e,n){"use strict";function r(t){n("pR4D")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("R78e"),i=n.n(o),s=n("TfH8"),a=n("vwQz"),u=r,c=a(i.a,s.a,!1,u,null,null);e.default=c.exports},mThd:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nv-head"),t._v(" "),n("div",{staticClass:"w1200"},[n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"Access Token"}},[n("el-input",{model:{value:t.form.AccessToken,callback:function(e){t.$set(t.form,"AccessToken",e)},expression:"form.AccessToken"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即登录")]),t._v(" "),n("el-button",[t._v("取消")])],1)],1)],1)],1)},o=[],i={render:r,staticRenderFns:o};e.a=i},mdaU:function(t,e){},n95b:function(t,e,n){"use strict";var r=n("3y40"),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.getTabInfo=function(t,e,n,r){var o="",i="";if(n)o="置顶",i="success";else if(e)o="精华",i="warning";else switch(t){case"share":o="分享",i="danger";break;case"ask":o="问答",i="info";break;case"job":o="招聘",i="info";break;default:o="暂无",i="info"}return r?i:o},e.getTimeAgo=function(t){return(0,o.default)().format(t,"zh_CN")}},"oUU+":function(t,e){},"on/f":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i={render:r,staticRenderFns:o};e.a=i},pR4D:function(t,e){},pqcO:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nv-head"),t._v(" "),n("div",{staticClass:"user_content"},[n("div",{staticClass:"information"},[n("img",{staticClass:"avatar",attrs:{src:t.user.avatar_url}}),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(t.user.loginname))]),t._v(" "),n("div",{staticClass:"create_at"},[t._v("注册时间:"+t._s(t._f("getTimeAgo")(t.user.create_at)))]),t._v(" "),n("div",{staticClass:"score"},[t._v("积分："+t._s(t.user.score))])]),t._v(" "),n("div",{staticClass:"recent_topics"},[n("h1",[t._v("最近回复")]),t._v(" "),n("ul",t._l(t.user.recent_replies,function(e){return n("li",{staticClass:"topic_item"},[n("div",{staticClass:"left"},[n("router-link",{attrs:{to:{name:"user",params:{name:e.author.loginname}}}},[n("img",{staticClass:"avatar",attrs:{src:e.author.avatar_url}})]),t._v(" "),n("div",{staticClass:"content"},[n("router-link",{staticClass:"qwe",attrs:{to:{name:"topic",params:{id:e.id}}}},[n("div",{staticClass:"title"},[t._v(t._s(e.title))])]),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(e.author.loginname))])],1)],1),t._v(" "),n("div",{staticClass:"right"},[t._v(t._s(t._f("getTimeAgo")(e.last_reply_at)))])])}))]),t._v(" "),n("div",{staticClass:"recent_topics"},[n("h1",[t._v("最新发布")]),t._v(" "),n("ul",t._l(t.user.recent_topics,function(e){return n("li",{staticClass:"topic_item"},[n("div",{staticClass:"left"},[n("router-link",{attrs:{to:{name:"user",params:{name:e.author.loginname}}}},[n("img",{staticClass:"avatar",attrs:{src:e.author.avatar_url}})]),t._v(" "),n("div",{staticClass:"content"},[n("router-link",{staticClass:"qwe",attrs:{to:{name:"topic",params:{id:e.id}}}},[n("div",{staticClass:"title"},[t._v(t._s(e.title))])]),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(e.author.loginname))])],1)],1),t._v(" "),n("div",{staticClass:"right"},[t._v(t._s(t._f("getTimeAgo")(e.last_reply_at)))])])}))])])],1)},o=[],i={render:r,staticRenderFns:o};e.a=i},qf5X:function(t,e,n){var r=n("j+JN"),o=n("QG+F"),i=n("EGHx")(!1),s=n("lU5T")("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(c,n)||c.push(n));return c}},rTof:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},teGI:function(t,e,n){var r=n("065q"),o=n("IlgB");t.exports=n("PwyU")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},uk03:function(t,e){},wmH6:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},y9PQ:function(t,e,n){n("O4di"),t.exports=n("IF0G").Object.assign},z8cP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}}},["NHnr"]);
//# sourceMappingURL=app.11c799990f28f0610a1f.js.map